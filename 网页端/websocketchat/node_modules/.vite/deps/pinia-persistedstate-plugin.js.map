{
  "version": 3,
  "sources": ["../../pinia-persistedstate-plugin/dist/pinia-persistedstate-plugin.es.js"],
  "sourcesContent": ["/**\n * name: pinia-persistedstate-plugin\n * version: v0.1.0\n * description: A pinia plugin like vuex-persistedstate.\n * author: xiaofei\n * homepage: https://github.com/l-x-f/pinia-persistedstate-plugin#readme\n */\nfunction logGroup(mutationId, mutation, state) {\n  const group = console.groupCollapsed || console.group;\n  try {\n    group(mutationId, new Date().toLocaleString());\n    console.log(\"mutation\", mutation);\n    console.log(\"state\", state);\n    console.groupEnd();\n  } catch (e) {\n    console.log(\"\\u2014\\u2014 log end \\u2014\\u2014\");\n  }\n}\nfunction createPersistedState(options) {\n  const storage = (options == null ? void 0 : options.storage) || window && window.localStorage;\n  const key = (options == null ? void 0 : options.key) || \"pinia\";\n  const logger = (options == null ? void 0 : options.logger) || false;\n  const getState = (key2, storage2) => {\n    const value = storage2.getItem ? storage2.getItem(key2) : storage2.get(key2);\n    try {\n      return typeof value === \"string\" ? JSON.parse(value) : typeof value === \"object\" ? value : void 0;\n    } catch (err) {\n    }\n    return void 0;\n  };\n  const setState = (key2, state, storage2) => {\n    return storage2.setItem ? storage2.setItem(key2, JSON.stringify(state)) : storage2.set(key2, JSON.stringify(state));\n  };\n  return (Context) => {\n    const store = Context.store;\n    const tempKey = `${key}-${store.$id}`;\n    const data = getState(tempKey, storage);\n    data && store.$patch(data);\n    store.$subscribe((mutation, state) => {\n      logger && logGroup(mutation.storeId, mutation, state);\n      const tempKey2 = `${key}-${mutation.storeId}`;\n      setState(tempKey2, state, storage);\n    });\n  };\n}\nexport { createPersistedState };\n"],
  "mappings": ";;;AAOA,SAAS,SAAS,YAAY,UAAU,OAAO;AAC7C,QAAM,QAAQ,QAAQ,kBAAkB,QAAQ;AAChD,MAAI;AACF,UAAM,aAAY,oBAAI,KAAK,GAAE,eAAe,CAAC;AAC7C,YAAQ,IAAI,YAAY,QAAQ;AAChC,YAAQ,IAAI,SAAS,KAAK;AAC1B,YAAQ,SAAS;AAAA,EACnB,SAAS,GAAG;AACV,YAAQ,IAAI,eAAmC;AAAA,EACjD;AACF;AACA,SAAS,qBAAqB,SAAS;AACrC,QAAM,WAAW,WAAW,OAAO,SAAS,QAAQ,YAAY,UAAU,OAAO;AACjF,QAAM,OAAO,WAAW,OAAO,SAAS,QAAQ,QAAQ;AACxD,QAAM,UAAU,WAAW,OAAO,SAAS,QAAQ,WAAW;AAC9D,QAAM,WAAW,CAAC,MAAM,aAAa;AACnC,UAAM,QAAQ,SAAS,UAAU,SAAS,QAAQ,IAAI,IAAI,SAAS,IAAI,IAAI;AAC3E,QAAI;AACF,aAAO,OAAO,UAAU,WAAW,KAAK,MAAM,KAAK,IAAI,OAAO,UAAU,WAAW,QAAQ;AAAA,IAC7F,SAAS,KAAK;AAAA,IACd;AACA,WAAO;AAAA,EACT;AACA,QAAM,WAAW,CAAC,MAAM,OAAO,aAAa;AAC1C,WAAO,SAAS,UAAU,SAAS,QAAQ,MAAM,KAAK,UAAU,KAAK,CAAC,IAAI,SAAS,IAAI,MAAM,KAAK,UAAU,KAAK,CAAC;AAAA,EACpH;AACA,SAAO,CAAC,YAAY;AAClB,UAAM,QAAQ,QAAQ;AACtB,UAAM,UAAU,GAAG,GAAG,IAAI,MAAM,GAAG;AACnC,UAAM,OAAO,SAAS,SAAS,OAAO;AACtC,YAAQ,MAAM,OAAO,IAAI;AACzB,UAAM,WAAW,CAAC,UAAU,UAAU;AACpC,gBAAU,SAAS,SAAS,SAAS,UAAU,KAAK;AACpD,YAAM,WAAW,GAAG,GAAG,IAAI,SAAS,OAAO;AAC3C,eAAS,UAAU,OAAO,OAAO;AAAA,IACnC,CAAC;AAAA,EACH;AACF;",
  "names": []
}
